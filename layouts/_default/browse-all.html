{{ define "main" }}
<!-- Content Section -->
<div class="uk-section uk-section-small">
    <div class="uk-container">

        <h1 class="uk-heading-medium" style="color: var(--s4a-dark-violet);">Browse All</h1>
        <p class="uk-text-lead uk-text-muted">All objects, perspectives, and views in one place</p>

        <!-- Filter and Search Bar -->
        <div class="uk-grid-small uk-child-width-expand@s" uk-grid>
            <div class="uk-width-expand@m">
                <form class="uk-search uk-search-default uk-width-1-1">
                    <span uk-search-icon></span>
                    <input class="uk-search-input uk-width-1-1 list-search-input" type="search"
                        placeholder="Filter by Name or ID..." aria-label="Search">
                </form>
            </div>
            <div class="uk-width-auto">
                <div uk-form-custom="target: > * > span">
                    <select aria-label="Category Filter">
                        <option value="">All Categories</option>
                        <option value="1">Business Object</option>
                        <option value="2">UI View</option>
                        <option value="3">Perspective</option>
                        <option value="4">Global Attribute</option>
                    </select>
                    <button class="uk-button uk-button-default uk-width-1-1" type="button" tabindex="-1">
                        Category: <span>All Categories</span> <span uk-icon="icon: chevron-down"></span>
                    </button>
                </div>
            </div>
            <div class="uk-width-auto">
                <div uk-form-custom="target: > * > span">
                    <select aria-label="Status Filter">
                        <option value="">All Statuses</option>
                        <option value="1">Active</option>
                        <option value="2">Draft</option>
                        <option value="3">Deprecated</option>
                    </select>
                    <button class="uk-button uk-button-default uk-width-1-1" type="button" tabindex="-1">
                        Status: <span>All Statuses</span> <span uk-icon="icon: chevron-down"></span>
                    </button>
                </div>
            </div>
        </div>

        <hr class="uk-margin-large">

        <!-- Responsive Card Grid -->
        <div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-4@l uk-grid-match"
            uk-grid>

            <!-- Attributes -->
            {{ range where site.RegularPages "Section" "attributes" }}
            {{ $attributeID := .File.BaseFileName }}
            {{ $attributeData := index site.Data.attributes $attributeID }}
            {{ if $attributeData }}
            {{ $status := "Active" }}

            <div>
                <a href="{{ .RelPermalink }}" class="uk-link-reset">
                    <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-height-1-1 uk-padding-small">
                        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small-bottom">
                            <span class="uk-text-small uk-text-uppercase" style="color: #666;">
                                <span uk-icon="icon: tag; ratio: 0.8" class="uk-margin-small-right"></span>
                                Global Attribute
                            </span>
                        </div>
                        <h3 class="uk-card-title uk-margin-remove-top uk-margin-small-bottom uk-text-break">{{ $attributeData.name }}</h3>
                        <div class="uk-margin-small-top">
                             <span class="uk-badge" style="font-size: 10px; padding: 2px 8px; background-color: var(--s4a-red);">{{ $status }}</span>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ end }}

            <!-- Objects -->
            {{ range where site.RegularPages "Section" "objects" }}
            {{ $objectID := .File.BaseFileName }}
            {{ $objectData := index site.Data.objects $objectID }}
            {{ if $objectData }}
            {{ $status := $objectData.Status | default "Draft" }}

            <div>
                <a href="{{ .RelPermalink }}" class="uk-link-reset">
                    <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-height-1-1 uk-padding-small">
                        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small-bottom">
                            <span class="uk-text-small uk-text-uppercase" style="color: var(--s4a-red);">
                                <span uk-icon="icon: file-text; ratio: 0.8" class="uk-margin-small-right"></span>
                                Business Object
                            </span>
                        </div>
                        <h3 class="uk-card-title uk-margin-remove-top uk-margin-small-bottom uk-text-truncate" uk-tooltip="title: {{ $objectData.Name }}">{{ $objectData.Name }}</h3>
                        <div class="uk-margin-small-top">
                            <span class="uk-badge" style="font-size: 10px; padding: 2px 8px; {{ if eq (lower $status) `draft` }}background-color: var(--s4a-light-violet);{{ else if eq (lower $status) `deprecated` }}background-color: #888;{{ else }}background-color: var(--s4a-red);{{ end }}">{{ $status }}</span>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ end }}

            <!-- Perspectives -->
            {{ range where site.RegularPages "Section" "perspectives" }}
            {{ $objectID := .Params.object_id }}
            {{ $perspectiveID := .Params.perspective_id }}
            {{ $objectData := index site.Data.objects $objectID }}
            {{ if $objectData }}
            {{ $sysData := index $objectData.SystemPerspectives $perspectiveID }}
            {{ if $sysData }}
            {{ $status := $sysData.Status | default "Draft" }}

            <div>
                <a href="{{ .RelPermalink }}" class="uk-link-reset">
                    <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-height-1-1 uk-padding-small">
                        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small-bottom">
                            <span class="uk-text-small uk-text-uppercase" style="color: var(--s4a-light-violet);">
                                <span uk-icon="icon: album; ratio: 0.8" class="uk-margin-small-right"></span>
                                System Perspective
                            </span>
                        </div>
                        <h3 class="uk-card-title uk-margin-remove-top uk-margin-small-bottom uk-text-truncate" uk-tooltip="title: {{ $perspectiveID }}">{{ $perspectiveID }}</h3>
                        <div class="uk-margin-small-top">
                            <span class="uk-badge" style="font-size: 10px; padding: 2px 8px; {{ if eq (lower $status) `draft` }}background-color: var(--s4a-light-violet);{{ else if eq (lower $status) `deprecated` }}background-color: #888;{{ else }}background-color: var(--s4a-red);{{ end }}">{{ $status }}</span>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ end }}
            {{ end }}

            <!-- Views -->
            {{ range where site.RegularPages "Section" "views" }}
            {{ $viewID := .File.BaseFileName }}
            {{ $viewData := index site.Data.views $viewID }}
            {{ if $viewData }}
            {{ $status := $viewData.Status | default "Draft" }}

            <div>
                <a href="{{ .RelPermalink }}" class="uk-link-reset">
                    <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-height-1-1 uk-padding-small">
                        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small-bottom">
                            <span class="uk-text-small uk-text-uppercase" style="color: var(--s4a-dark-violet);">
                                <span uk-icon="icon: laptop; ratio: 0.8" class="uk-margin-small-right"></span>
                                UI View
                            </span>
                        </div>
                        <h3 class="uk-card-title uk-margin-remove-top uk-margin-small-bottom uk-text-truncate" uk-tooltip="title: {{ .Title }}">{{ .Title }}</h3>
                        <div class="uk-margin-small-top">
                            <span class="uk-badge" style="font-size: 10px; padding: 2px 8px; {{ if eq (lower $status) `draft` }}background-color: var(--s4a-light-violet);{{ else if eq (lower $status) `deprecated` }}background-color: #888;{{ else }}background-color: var(--s4a-red);{{ end }}">{{ $status }}</span>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ end }}

        </div>

    </div>
</div>
{{ end }}